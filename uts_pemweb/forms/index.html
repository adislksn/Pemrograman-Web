<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pagani Form Owner</title>
    <link rel="icon" href="./assets/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
</head>
<body class="w-100 min-vh-100">
    <div class="d-flex w-100 min-vh-100 position-relative">
        <div id="sidebar" class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark min-vh-100" style="width: 80px;">
            <a href="../" class="d-flex align-items-center mb-md-0 justify-content-center text-white text-decoration-none">
                <img width="30px" src="../assets/logo.jpg" alt="" style="object-fit: cover;aspect-ratio: 1/1;">
            </a>
            <hr>
            <ul class="nav nav-pills flex-column mb-auto">
                <li class="nav-item">
                <a href="../index.html" class="nav-link text-white" aria-current="page">
                    <i class="bi bi-house-door-fill"></i>
                </a>
                </li>
                <li>
                <a href="#" class="nav-link text-white active">
                    <i class="bi bi-layout-text-sidebar"></i>
                </a>
                </li>
                <li>
                <a href="../table/" class="nav-link text-white">
                    <i class="bi bi-table"></i>
                </a>
                </li>
            </ul>
        </div>
    
        <main class="d-flex justify-content-center align-items-center w-100 p-2 mx-auto ms-md-0" style="overflow-x: scroll;">
            <section class="card" style="width: 80%;">
                <div class="card-body">
                    <form action="../table/index.html" method="GET">
                        <div class="mb-3">
                            <label for="name" class="form-label">Owner Name</label>
                            <input type="text" class="form-control" id="name" name="name" placeholder="Pagani">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="email" name="email" placeholder="name@example.com">
                        </div>
                        <div class="mb-3">
                            <label for="country" class="form-label">Country</label>
                            <input type="text" class="form-control" id="country" list="country-data" name="country" placeholder="Indonesia">
                            <datalist id="country-data">
                            </datalist>
                        </div>
                        <div class="mb-3">
                            <label for="city" class="form-label">City</label>
                            <input type="text" class="form-control" id="city" name="city" placeholder="Jakarta">
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label">Address</label>
                            <textarea class="form-control" id="address" name="address" rows="3" placeholder="Jl. Pagani No. 1"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="phone" name="phone" placeholder="081234567890">
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p>&copy; 2024 Pagani Automobili. - All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script>
        const getCountries = async () => {
            const response = await fetch('https://restcountries.com/v3.1/independent?status=true&fields=name,capital');
            const data = await response.json();
            return data;
        }

        const countries = getCountries();
        countries.then(data => {
            const countryData = document.getElementById('country-data');
            data.forEach(country => {
                const option = document.createElement('option');
                option.text = country.name.common;
                option.value = country.name.common;
                countryData.appendChild(option);
            });
        });

        document.getElementById('country').addEventListener('change', async (e) => {
            const response = await fetch(`https://restcountries.com/v3.1/name/${e.target.value}?fullText=true`);
            const data = await response.json();
            const city = document.getElementById('city');
            city.value = data[0].capital[0];
        });
    </script>
</body>
</html>