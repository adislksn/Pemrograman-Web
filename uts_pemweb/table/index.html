<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pagani Table Page</title>
    <link rel="icon" href="./assets/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
</head>
<body class="w-100 min-vh-100">
    <div class="d-flex w-100 h-100 position-relative">
        <div id="sidebar" class="d-flex flex-column flex-shrink-0 p-3 text-white min-vh-100" style="width: 80px;background: rgba( 44, 40, 40, 0.8 );">
            <a href="../" class="d-flex align-items-center mb-md-0 justify-content-center text-white text-decoration-none">
                <img width="30px" class="rounded-circle" src="../assets/logo.jpg" alt="" style="object-fit: cover;aspect-ratio: 1/1;">
            </a>
            <hr>
            <ul class="nav nav-pills flex-column mb-auto">
                <li class="nav-item">
                <a href="../" class="nav-link text-white" aria-current="page">
                    <i class="bi bi-house-door-fill"></i>
                </a>
                </li>
                <li>
                <a href="../forms/" class="nav-link text-white">
                    <i class="bi bi-layout-text-sidebar"></i>
                </a>
                </li>
                <li>
                <a href="#" class="nav-link text-white active bg-info">
                    <i class="bi bi-table"></i>
                </a>
                </li>
            </ul>
        </div>
    
        <main class="d-flex justify-content-lg-center align-items-center w-100 px-2 ms-2 ms-md-0" style="overflow-x: scroll;">
                <table class="table table-striped table-hover table-bordered table-responsive">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Name</th>
                            <th>Country</th>
                            <th>City</th>
                            <th>Address</th>
                            <th>Phone</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody id="data-body">
                        
                    </tbody>
                </table>
        </main>
    </div>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p>&copy; 2024 Pagani Automobili. - All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
        const data = [
            {
                name: "John Doe",
                country: "United States",
                city: "Los Angeles",
                address: "1234 Main St",
                phone: "123-456-7890",
                email: " [email protected]"
            },
        ]

        const urlParams = new URLSearchParams(window.location.search)
        const paramsData = [
            urlParams.get("name") || "empty",
            urlParams.get("country") || "empty",
            urlParams.get("city") || "empty",
            urlParams.get("address") || "empty",
            urlParams.get("phone") || "empty",
            urlParams.get("email") || "[email protected]",
        ]

        // append to first data, not last data
        if (urlParams.get("name") !== null) {
            data.unshift({
                name: paramsData[0],
                country: paramsData[1],
                city: paramsData[2],
                address: paramsData[3],
                phone: paramsData[4],
                email: paramsData[5]
            })
        }

        const table = document.getElementById("data-body")
        data.forEach((item) => {
            const row = document.createElement("tr")
            row.innerHTML = `
                <td>${data.indexOf(item) + 1}</td>
                <td>${item.name}</td>
                <td>${item.country}</td>
                <td>${item.city}</td>
                <td>${item.address}</td>
                <td>${item.phone}</td>
                <td>${item.email}</td>
            `
            table.appendChild(row)
        })
    </script>
</body>
</html>